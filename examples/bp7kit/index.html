<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=1" name="viewport" />-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="pure-min.css">
    <link rel="stylesheet" href="main.css">

    <script>
        var Module = {};
        var __cargo_web = {};
        Object.defineProperty(Module, 'canvas', {
            get: function () {
                if (__cargo_web.canvas) {
                    return __cargo_web.canvas;
                }

                var canvas = document.createElement('canvas');
                document.querySelector('body').appendChild(canvas);
                __cargo_web.canvas = canvas;

                return canvas;
            }
        });
    </script>
</head>

<body>


    <h1><img src="logo.png" style="height: 2em; vertical-align: middle"> BP7 Kit</h1>

    <div class="wrap-collabsible">
        <input id="collapsible-compose" class="toggle collabsible-checkbox" type="checkbox" checked>
        <label for="collapsible-compose" class="lbl-toggle">Encode Bundle</label>
        <div class="collapsible-content">
            <div class="content-inner">
                <div class="pure-g">
                    <div class="pure-u">
                        <div id="composer">
                            <form class="pure-form pure-form-aligned" action="#">
                                <fieldset>
                                    <div class="pure-control-group">
                                        <label for="sender">Sender</label>
                                        <input id="sender" type="text" placeholder="dtn://local">
                                        <span class="pure-form-message-inline">This is a required field.</span>
                                    </div>

                                    <div class="pure-control-group">
                                        <label for="receiver">Receiver</label>
                                        <input id="receiver" type="text" placeholder="dtn://remote/incoming">
                                        <span class="pure-form-message-inline">This is a required field.</span>
                                    </div>

                                    <div class="pure-control-group">
                                        <label for="msg">Message</label>
                                        <input id="msg" type="text" placeholder="Enter something here...">
                                        <span class="pure-form-message-inline">This is a required field.</span>
                                    </div>

                                    <div class="pure-control-group">
                                        <label for="lifetime">Lifetime</label>
                                        <input id="lifetime" type="text" placeholder="3600000000">
                                    </div>
                                    <br>

                                    <div class="pure-g">
                                        <div class="pure-u-1-3">
                                            <input type="checkbox" id="ba_check"> Bundle Age Block<br>
                                            <br>
                                            <input id="bundle_age" type="text" value="" placeholder="Timestamp">
                                        </div>
                                        <div class="pure-u-1-3">

                                            <input type="checkbox" id="hc_check"> Hop Count Block<br>
                                            <br>
                                            <input id="hop_count" type="text" value="" placeholder="cur hop count">
                                            <br>
                                            <input id="hop_count" type="text" value="" placeholder="maximum hop count">

                                        </div>
                                        <div class="pure-u-1-3">
                                            <input type="checkbox" id="pn_check"> Previous Node Block<br>
                                            <br>
                                            <input id="prev_node" type="text" value="" placeholder="dtn://prev_node">
                                        </div>
                                    </div>
                                    <p><i>Empty canoncial block inputs will fall back to defaults.</i></p>
                                    <br>
                                    <div class="pure-g">
                                        <div class="pure-u-1">
                                            <button type="submit" class="pure-button pure-button-primary"
                                                onclick="send_msg()">Encode</button>
                                        </div>
                                    </div>


                        </div>
                        </fieldset>
                        </form>
                    </div>
                </div>
                <div class="pure-g">
                    <div class="pure-u">

                        <h4>Hex-encoded (<span id="outlen">0</span> bytes) </h4>

                        <div id="hexout" width="80px"
                            style="cursor: pointer; height: auto; overflow-wrap:break-word; word-break: break-all; font-family: monospace">
                        </div>
                        <br>
                        <span id="copy" style="cursor: pointer"><i>Copy</i></span><br>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="bp7.js"></script>
    <script src="main.js"></script>
</body>

</html>